<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Important Events · LV Lab @ SMU</title>
  <link href="../css/font-awesome.min.css" rel="stylesheet">
  <link href="../css/magnific-popup.css" rel="stylesheet">
  <link href="../css/owl.carousel.min.css" rel="stylesheet">
  <link href="../css/simple-line-icons.css" rel="stylesheet">
  <link href="../css/bootstrap/bootstrap.min.css" rel="stylesheet">
  <link href="../css/bootstrap/bootstrap-reboot.css" rel="stylesheet">
  <link href="../style.css" rel="stylesheet">
  
  <!-- Vendor Stylesheets -->
  <!-- <link href="http://f.21yb.app/65858584/97037023/css?family=Oswald:300,400,500,700%7CRoboto:300,400,700" rel="stylesheet"> -->
  <link href="../assets/vendor/material-design-iconic-font/dist/css/material-design-iconic-font.min.css" rel="stylesheet">
  
  <!-- Theme Stylesheets -->
  <link href="../assets/css/theme.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  

  <!-- Tailwind 只用来提供 flex / grid 等工具类；后期可替换成本地 output.css -->
  <!-- <script src="https://cdn.tailwindcss.com"></script> -->

  <style>

    :root{
      --lv-blue:#003d7c;
      --lv-orange:#ee7023;
      --card-bg:#f8fafc;
    }


    /* ===== 左侧年份导航 ===== */
    #timelineYears {
    list-style: none;
    padding-left: 0;
    margin: 0;
    }

    #timelineYears li {
    cursor: pointer;
    padding: 6px 12px;
    border-radius: 4px;
    font-weight: 600;
    font-size: 14px;
    color: #1e293b; /* slate-700 */
    transition: background 0.3s, color 0.3s;
    }

    #timelineYears li:hover {
    background: #ee7023;
    color: white;
    }

    .pubs-layout {
        display: flex;
        max-width: 1200px;
        margin: 0 auto;
        gap: 2rem;
        padding: 2rem 1rem;
    }

    html, body {
      height: 100%;
      overflow-y: auto; /* 确保页面可以滚动 */
    }

    main.news-layout {
      display: flex;
      max-width: 1200px;
      margin: 0 auto;
      gap: 2rem;
      padding: 2rem 1rem;
      align-items: flex-start;
      position: relative; /* 增加 sticky 的生效几率 */
    }

    .timeline-nav {
      position: sticky;
      top: 5rem;
      align-self: flex-start;
      width: 200px;
      height: fit-content;
    }


    .timeline-nav{
      width:200px;
      position:sticky;         
      top:5rem;               
      align-self:flex-start;   /
    }

    #timelineYears{
      max-height:calc(100vh - 5rem);
      overflow-y:auto;        
      padding:0 .5rem 0 0;
    }
    /* 自定义滚动条 */
    #timelineYears::-webkit-scrollbar{width:6px}
    #timelineYears::-webkit-scrollbar-thumb{
      background:var(--lv-blue);border-radius:3px;
    }


    .news-layout{
      display: flex;
      max-width: 1200px;
      margin: 0 auto;
      gap: 2rem;
      padding: 2rem 1rem;   
      align-items: flex-start;          
    }

    /* ==== publication card ==== */
    .pub-card {
        background: #f9fafb;
        padding: 1.2rem 1.5rem;
        border-left: 4px solid #ee7023;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.04);
        margin-bottom: 1rem;
    }
    .pub-card:hover{
      transform:translateY(-2px);
      box-shadow:0 6px 14px rgba(0,0,0,.08);
    }
    .pub-card time {
        font-weight: 700;
        color: #1e3a8a;
        display: block;
        margin-bottom: 0.5rem;
    }
    .pub-card h3 {
        font-size: 1rem;
        font-weight: 600;
        color: #ee7023;
        margin-top: 0.2rem;
    }
    .pub-card .authors{
      font-size:.95rem;
      color:#555;
    }
    .pub-card .venue{
      font-size:.9rem;
      color:#777;
      margin:.15rem 0 .3rem;
    }
    .pub-card a.icon{
      margin-right:10px;
      font-size:.9rem;
      color:var(--lv-blue);
    }
    .pub-card a.icon:hover{
      text-decoration:underline;
      color:var(--lv-orange);
    }
    .pub-card .link-icon{
    display:inline-flex;
    align-items:center;
    margin-right:1.2rem;
    font-size:.9rem;
    color:var(--lv-blue);
    }
    .pub-card .link-icon i{
    margin-right:6px;
    font-size:.9rem;
    }
    .pub-card .link-icon:hover{
    color:var(--lv-orange);
    text-decoration:underline;
    }
  </style>
</head>

<body class="bg-slate-50 text-slate-800">

  <header>
    <!-- Starts: .main-menu -->
    <div class="main-menu" style="margin-bottom: 0; padding-bottom: 0; margin-top: 0; padding-top: 0;">
        <div class="container">
            <nav class="navbar navbar-expand-lg"  style="padding-top: 30px; padding-bottom: 30px;">
                <!-- <a class="navbar-brand" href="index.html">
                    <img src="images/logo/LVLab_NUS.png" alt="" style="width: 150px; height: auto;">
                </a> -->
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon icon-menu"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNavDropdown">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" href="../index.html">LVLAB</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="./index.html">Home</a>
                        </li>
                        <!-- <li class="nav-item ">
                            <a class="nav-link" href="/site/news">News</a>
                        </li> -->
                        <li class="nav-item">
                            <!-- <a class="nav-link" href="/site/about">About</a> -->
                            <a class="nav-link" href="./research.html">Research</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./people.html">People</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./publications.html">Publications</a>
                        </li>
                        <li class="nav-item ">
                            <a class="nav-link" href="./ongoing-recruitment.html">Recruitment</a>
                        </li>
                        <!-- <li class="nav-item  dropdown">
                            <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown">Recruitment</a>
                            <div class="dropdown-menu">
                                <a class="dropdown-item" href="/site/ongoing-recruitment">Ongoing Recruitment</a>
                                <a class="dropdown-item" href="/site/history-recruitment">History Recruitment</a>
                            </div>
                        </li> -->
                        <li class="nav-item ">
                            <a class="nav-link" href="./contact.html">Contact</a>
                        </li>
                        <!-- <li class="nav-item ">
                            <a class="nav-link" href="/site/download">Download</a>
                        </li> -->
                        <!-- Ends .nav-right -->
                    </ul>
                </div>
            </nav>
            <!-- Fullscreen search -->
            <div class="search-wrap">
                <div class="search-inner">
                    <div class="search-cell">
                        <form method="get">
                            <div class="search-field-holder">
                                <input type="search" class="form-control main-search-input" placeholder="Type & hit enter...">
                                <i class="icon-close" id="search-close"></i>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <!-- end fullscreen search -->
        </div>
    </div>
    <!-- Ends: .main-menu -->
</header>
<!-- Ends: header --><!--================================-->
<!--End menu-->

<div style="display:none">
  <select id="yearFilter">
    <option value="all" selected>All Years</option>
  </select>
  <input id="searchInput">
</div>

  <!-- ╭──────────── Main ────────────╮ -->
  <main class="news-layout">
    <aside class="timeline-nav">
      <ul id="timelineYears"></ul>
    </aside>
  
    <section id="eventsList" style="flex:1;"></section>
  </main>

  <!-- ╭────────── Card ──────────╮ -->
  <template id="eventCardTmpl">
    <article class="pub-card">
      <time></time>
      <h3></h3>
      <p></p>
      <a class="more" target="_blank" rel="noopener noreferrer">Read more →</a>
    </article>
  </template>

  <!-- ╭──────────── Scripts ────────────╮ -->
  <script>
    let events=[];

    /* ========== Utils ========== */
    const byDateDesc=(a,b)=>{
      const toInt=d=>{
        const m=/^(\d{4})(?:-(\d{2}))?(?:-(\d{2}))?/.exec(d);
        if(!m) return 0;
        const y=+m[1],mo=+ (m[2]||'12'),day=+ (m[3]||'28');
        return y*10000+mo*100+day;
      };
      return toInt(b.date)-toInt(a.date);
    };

    const formatDate=raw=>{
      const m=/^(\d{4})-(\d{2})-(\d{2})/.exec(raw);
      if(m){
        return new Date(`${m[1]}-${m[2]}-${m[3]}`)
               .toLocaleDateString('en-SG',{year:'numeric',month:'short',day:'numeric'});
      }
      return raw;
    };

    /* ========== Render functions ========== */
    function renderTimeline(years){
      const ul=document.getElementById('timelineYears');
      ul.innerHTML='';
      years.forEach(y=>{
        const li=document.createElement('li');
        li.textContent=y;
        li.onclick=()=>document.querySelector(`[data-anchor="${y}"]`)
                           ?.scrollIntoView({behavior:'smooth'});
        ul.appendChild(li);
      });
    }

    function renderEvents(data){
      const list=document.getElementById('eventsList');
      list.innerHTML='';
      let curYear=null;

      data.sort(byDateDesc).forEach(ev=>{
        const yr=(/(\d{4})/.exec(ev.date)||[,null])[1];
        const group=yr<2024?'Before 2024':yr;

        if(group!==curYear){
          curYear=group;
          const h=document.createElement('h2');
          h.textContent=group;
          h.dataset.anchor=group;
          h.className='text-xl font-bold mt-0 first:mt-0 text-[color:var(--lv-orange)]';
          list.appendChild(h);
        }

        const card=document.getElementById('eventCardTmpl').content.firstElementChild.cloneNode(true);
        card.querySelector('time').textContent=formatDate(ev.date);
        card.querySelector('h3').textContent=ev.title;
        card.querySelector('p').textContent=ev.summary||'';
        const link=card.querySelector('a');
        if(ev.link){link.href=ev.link;}else{link.remove();}
        list.appendChild(card);
      });
    }

    /* ========== Filter / 搜索 ========== */
    function bindControls(years){
      const sel=document.getElementById('yearFilter');
      years.forEach(y=>{
        const opt=new Option(y,y);
        sel.add(opt);
      });

      const input=document.getElementById('searchInput');
      const filter=()=>{
        let data=[...events];

        if(sel.value!=='all'){
          data=data.filter(ev=>sel.value==='Before 2024'
                   ? (/^(\d{4})/.exec(ev.date)||[,9999])[1]<2024
                   : ev.date.includes(sel.value));
        }
        const kw=input.value.trim().toLowerCase();
        if(kw) data=data.filter(ev=>(ev.title+ev.summary).toLowerCase().includes(kw));

        renderEvents(data);
      };

      sel.onchange=filter;
      input.oninput=filter;
      window.onkeydown=e=>{
        if((e.metaKey||e.ctrlKey)&&e.key==='k'){e.preventDefault();input.focus();}
      };
      filter();
    }

    /* ========== Bootstrap ========== */
    (async()=>{
      try{
        const res=await fetch('../assets/smu_events.json');   // 根据实际路径调整
        events=await res.json();
      }catch(e){
        console.error('Failed to load events.json',e);
        events=[];
      }

      const years=[...new Set(events.map(ev=>{
        const y=(/(\d{4})/.exec(ev.date)||[,null])[1];
        return y<2024?'Before 2024':y;
      }))].sort((a,b)=>{
        if(a==='Before 2024') return 1;
        if(b==='Before 2024') return -1;
        return b-a;
      });

      renderTimeline(years);
      bindControls(years);
    })();
  </script>

<!-- Starts: Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-4 col-md-6">
                <div class="widget-area">
                   
                    <div class="widget-contents">
                        <p>© Language and Vision Lab, <a href="./index.html">SCIS, SMU</a><br>
                            <br><i class="zmdi zmdi-email zmdi-hc-fw mr-1"></i>panzhou at smu.edu.sg
                            <br>SCIS1 #04-4029, SMU
                            <br>80 Stamford Rd, Singapore 178902
                        </p>
                        <p>
                            <span class="text-white"><i class="zmdi zmdi-twitter zmdi-hc-fw mr-1"></i><a href="https://x.com/LVLab_X" target="_blank" class="text-white">@LVLab</a></span></p>
                        </p>
                        <!-- Ends: .footer-address -->
                    </div>
                </div>
            </div>
            <!-- Ends: .col-md-3 -->


            <div class="col-lg-4 col-md-6">
                <div class="widget-area links">
                    <div class="widget-head">
                        <h2>
                            <span class="icon-logout"></span> Useful Links</h2>
                    </div>
                    <div class="widget-contents">
                        <ul class="list-unstyled two-col">
                            <li>
                                <!-- <a href="news.html">
                                    <span class="fa fa-angle-right" style="padding-top: 19px;"></span> News
                                </a> -->
                                <a href="research.html">
                                    <span class="fa fa-angle-right" style="padding-top: 19px;"></span> Research
                                </a>
                            </li>
                            <li>
                                <a href="people.html">
                                    <span class="fa fa-angle-right"></span> People
                                </a>
                            </li>
                            <li>
                                <a href="publications.html">
                                    <span class="fa fa-angle-right"></span> Publications
                                </a>
                            </li>
                            <li>
                                <a href="ongoing-recruitment.html">
                                    <span class="fa fa-angle-right"></span> Ongoing Recruitment
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- Ends: .col-md-3 -->

            <div class="col-lg-4 col-md-6">
                <div class="widget-area sibscribe-widget">
                    <div class="widget-head">
                        <h2>
                            <span class="icon-logout"></span> Open Source</h2>
                    </div>
                    <div class="widget-contents">
                        <p>Please refer to 
                            <i class="zmdi zmdi-github zmdi-hc-fw mr-1"></i><a href="https://github.com/LVLab-SMU">LVLab-SMU</a> 
                            for details.
                        </p>
                    </div>
                    <!-- Ends: .widget-contents -->
                </div>
            </div>
            <!-- Ends: .col-md-3 -->

        </div>
    </div>
</footer>
<!-- Ends: Footer --><!--================================-->
<!--End footer-->
</body>

<!-- Mirrored from 43.132.181.115/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 25 Mar 2025 08:42:06 GMT -->
</html>
